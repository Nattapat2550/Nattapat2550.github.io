<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>อนิเมชั่นดอกกุหลาบ Pixel 32bit พร้อมหัวใจ</title>
<style>
  body {
    background: #111;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    user-select: none;
  }
  canvas {
    image-rendering: pixelated;
    border: 3px solid #ff007f;
    background: #222;
    border-radius: 15px;
  }
</style>
</head>
<body>
<canvas id="canvas" width="320" height="320"></canvas>

<script>
// ขนาด pixel art 32x32
const PIXEL_SIZE = 10;
const WIDTH = 32;
const HEIGHT = 32;

const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

// ดอกกุหลาบ pixel art 32x32 (simplified pixel color array)
// ใช้ 2D array: แต่ละตัวเป็น RGBA color string หรือ null = ใส่สีโปร่งใส
// ตัวอย่างใช้สีแดงชมพูเข้ม-อ่อน + สีเขียวใบ
// (นี่คือตัวอย่างง่ายๆ นะครับ ให้ดู concept สามารถปรับสีหรือเพิ่ม pixel ได้)
const rosePixels = [
  // 32 แถว arrays ของ 32 สี
  // [null, null, ..., 'rgba(...)', ...]
  // ผมจะเขียนแค่ pattern ตัวอย่าง ไม่ครบ 32 แถว
  // โดยรวมให้เห็นเป็นดอกกุหลาบกลาง
  // ... เราจะทำสีที่ใช้มากสุด สีแดง สีชมพู สีเขียว
];

// สร้าง data แบบง่าย ๆ สำหรับดอกกุหลาบและหัวใจ (ตัวอย่าง pixel art ที่ออกแบบเอง)
// เนื่องจากพื้นที่จำกัด ผมจะสร้างตัวอย่างง่ายๆ และใช้ function ช่วยวาดหัวใจด้วยโค้ดแทน

// สำหรับตัวอย่างนี้ ผมจะสร้างดอกกุหลาบและหัวใจแบบ pixel art ในฟังก์ชัน draw

// วาดหัวใจ pixel แบบเล็ก ๆ รอบ ๆ ดอกกุหลาบ
function drawHeart(x, y, size, color) {
  ctx.fillStyle = color;
  // วาดหัวใจ pixel ขนาด 3x3 block
  // รูปแบบหัวใจ pixel 3x3:
  //  1 1 0
  // 1 1 1
  //  0 1 0
  const heartPattern = [
    [1,1,0],
    [1,1,1],
    [0,1,0]
  ];
  for(let i=0;i<3;i++) {
    for(let j=0;j<3;j++) {
      if(heartPattern[i][j]) {
        ctx.fillRect(x + j*size, y + i*size, size, size);
      }
    }
  }
}

// วาดดอกกุหลาบ pixel art แบบง่าย (32x32) ทีละ pixel (pixel size = 10)
function drawRosePixelArt() {
  // เพื่อไม่ให้โค้ดยาวมาก ผมจะสร้างแบบง่าย
  // สีหลัก: แดงเข้ม (#b22222), ชมพู (#ff69b4), เขียวใบ (#228b22)
  // รูปร่างดอกกุหลาบแบบ simplified

  // ล้าง canvas
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // พื้นหลัง
  ctx.fillStyle = '#222';
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  // วาดหัวใจ pixel รอบๆ
  const heartColor = '#ff6699';
  const heartPositions = [
    [20, 20], [280, 20], [20, 280], [280, 280],
    [150, 10], [10, 150], [300, 150], [150, 300],
    [70, 70], [230, 70], [70, 230], [230, 230]
  ];
  heartPositions.forEach(pos => drawHeart(pos[0], pos[1], 8, heartColor));

  // ดอกกุหลาบ pixel shape
  // สร้าง array ของ pixels เป็น array ของ objects: {x,y,color}
  const pixels = [];

  // กลางดอกกุหลาบ (สีแดงเข้ม)
  const centerX = 16;
  const centerY = 16;
  // วาดเป็นวงกลม pixel ขนาด radius 7 pixel
  for(let y=-7; y<=7; y++) {
    for(let x=-7; x<=7; x++) {
      if(x*x + y*y <= 7*7) {
        // สีสลับระหว่างแดงเข้มและชมพูตามระยะ
        let dist = Math.sqrt(x*x + y*y);
        let color;
        if(dist < 3) color = '#b22222'; // แดงเข้ม
        else if(dist < 5) color = '#ff69b4'; // ชมพู
        else color = '#d87093'; // สีชมพูเข้มอมม่วง
        pixels.push({x: centerX + x, y: centerY + y, color});
      }
    }
  }

  // ใบสีเขียว รอบดอก
  for(let y=-9; y<=9; y++) {
    for(let x=-9; x<=9; x++) {
      let dist = Math.sqrt(x*x + y*y);
      if(dist > 7 && dist <= 9) {
        // สร้างรูปแบบใบไม่เต็มวงกลม
        if(x < 0) { // ใบอยู่ด้านซ้าย
          pixels.push({x: centerX + x, y: centerY + y, color: '#228b22'});
        }
      }
    }
  }

  // อนิเมชั่นทีละ pixel
  let index = 0;
  function drawNextPixel() {
    if(index >= pixels.length) return;
    const p = pixels[index];
    ctx.fillStyle = p.color;
    ctx.fillRect(p.x * PIXEL_SIZE, p.y * PIXEL_SIZE, PIXEL_SIZE, PIXEL_SIZE);
    index++;
    requestAnimationFrame(drawNextPixel);
  }
  drawNextPixel();
}

drawRosePixelArt();

</script>
</body>
</html>
