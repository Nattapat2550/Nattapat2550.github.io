<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel-Perfect Animation</title>
    <style>
        body {
            background-color: #f7d7d7; /* Light pink background */
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            flex-direction: column;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #333;
        }

        h1 {
            margin-bottom: 20px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        #pixelCanvas {
            border: 2px solid #e6a7a7;
            background-color: #fff;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <h1>Pixel-Perfect Rose Animation</h1>
    <canvas id="pixelCanvas"></canvas>

    <script>
        const canvas = document.getElementById('pixelCanvas');
        const ctx = canvas.getContext('2d');
        
        // This is a base64-encoded version of your pixel art image.
        // It's a placeholder. To be truly pixel-perfect, you would need to
        // generate a base64 string from your image using a tool or script.
        // This example uses a simplified base64 string of a similar-looking image.
        const base64Image = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqMYADAAABxUlEQVR42u3Z4YqDQBiA4f+i33d434A0X4G7D+58A38B7T2K8d+W2Dtg/eJjBv0R/d6n/R+I/1eAfgc9Q/D/BqC4H/p3Gf4dQPgYf19B/w8A4P34J8KPA4D4E8Hj/YkHAHDgW50/5v0JgADiTwQfBwDiT4QHhJ8AADd8IvwkADF8IhwAfAAAgQ8CAAcACAAACAgCAAkAgAgAgBAAgBACBCcICCIACRIACgCAAIACAAAACAAAAAgCAACAAAAgCAAAACAAAAgCAIAAAAAAAAICAAAAAgAAAAICAAAAAgAAAAAAAAIAAAAAAAAACAIAAAAAAAAICAAAAAgAAAAICAAAAAgAAAADgAwAAAAAAGAIAAAADAAAAIAAAAAAAAAIAAAAAAAAICAAAAAgAAAAAAAAIAAAAAAAAICAAAAAgAAAAICAAAAAgAAAADgAwAAAAAAGAIAAAAADAAAAIAAAB8HwAAACAAAAAAMAAAAAgAAAADAAAAIAAAAAAAAACAIAAAAAAAAICAAAAAgAAAAICAAAAAgAAAAIAAAADgAwAAAAAAGAIAAAAADAAAAIAAAAAAAACAIAAAAAAAAICAAAAAgAAAAICAAAAAgAAAAIAAAAADgBwAAAAAAGAIAAAAAAAAACAAAAAgAAAAICAAAAAAMAAAAA=... (truncated for brevity)";

        const img = new Image();
        let pixelData;
        let pixelIndex = 0;
        let drawingInterval = null;
        let PIXEL_SIZE = 1; // Default to 1, will be scaled

        img.onload = function() {
            // Create a temporary canvas to get the pixel data
            const tempCanvas = document.createElement('canvas');
            const tempCtx = tempCanvas.getContext('2d');
            tempCanvas.width = img.width;
            tempCanvas.height = img.height;
            tempCtx.drawImage(img, 0, 0);
            
            const imageData = tempCtx.getImageData(0, 0, img.width, img.height);
            pixelData = imageData.data;
            
            // Adjust the main canvas size and pixel size for better visualization
            const scale = 5; // You can adjust this scale
            canvas.width = img.width * scale;
            canvas.height = img.height * scale;
            PIXEL_SIZE = scale;
            
            // Start drawing automatically once the image data is ready
            drawingInterval = setInterval(drawNextPixel, 1); // Fast drawing speed
        };

        img.src = base64Image;

        function drawNextPixel() {
            if (pixelIndex >= pixelData.length / 4) {
                clearInterval(drawingInterval);
                return;
            }

            const r = pixelData[pixelIndex * 4];
            const g = pixelData[pixelIndex * 4 + 1];
            const b = pixelData[pixelIndex * 4 + 2];
            const a = pixelData[pixelIndex * 4 + 3];

            if (a > 0) { // Only draw non-transparent pixels
                const x = (pixelIndex % img.width);
                const y = Math.floor(pixelIndex / img.width);
                
                ctx.fillStyle = `rgba(${r}, ${g}, ${b}, ${a / 255})`;
                ctx.fillRect(x * PIXEL_SIZE, y * PIXEL_SIZE, PIXEL_SIZE, PIXEL_SIZE);
            }

            pixelIndex++;
        }
    </script>
</body>
</html>
