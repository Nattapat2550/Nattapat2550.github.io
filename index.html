<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>ดอกกุหลาบพิกเซลอาร์ตอลังการ</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(45deg, #f0f4f8, #e6e6fa);
            font-family: Arial, sans-serif;
        }
        #canvas {
            border: 4px solid rgba(0,0,0,0.2);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            background-color: white;
            image-rendering: pixelated;
        }
    </style>
</head>
<body>
    <canvas id="canvas" width="640" height="640"></canvas>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const pixelSize = 10;

        // พาเลทสีที่หลากหลาย
        const COLORS = {
            bg: ['#f0f0f0', '#f5f5f5', '#e6e6fa'],
            petal: [
                '#FF1493', // Dark Pink
                '#FF69B4', // Hot Pink
                '#FFB6C1', // Light Pink
                '#DB7093', // Pale Violet Red
                '#C71585'  // Medium Violet Red
            ],
            stem: [
                '#228B22', // Forest Green
                '#2E8B57', // Sea Green
                '#3CB371', // Medium Sea Green
                '#90EE90'  // Light Green
            ]
        };

        // สร้างดอกกุหลาบที่ซับซ้อนขึ้น
        function createRosePixels() {
            const pixels = Array(64).fill().map(() => Array(64).fill(0));
            
            // สร้างรูปทรงดอกที่ซับซ้อน
            const createPetalGradient = (startX, startY, width, height, baseColor) => {
                for (let y = 0; y < height; y++) {
                    for (let x = 0; x < width; x++) {
                        // สร้างเกรเดียนท์และรูปทรงที่ไม่เป็นรูปสี่เหลี่ยมตรง
                        const distanceFromCenter = Math.sqrt(
                            Math.pow(x - width/2, 2) + 
                            Math.pow(y - height/2, 2)
                        );
                        
                        if (distanceFromCenter < width/2) {
                            const colorIndex = Math.floor(
                                (distanceFromCenter / (width/2)) * COLORS.petal.length
                            );
                            pixels[startY + y][startX + x] = colorIndex + 1;
                        }
                    }
                }
            };

            // วาดกลีบดอกหลายชั้น
            createPetalGradient(10, 10, 44, 30, 1);
            createPetalGradient(15, 15, 34, 25, 2);
            
            // ก้านดอก
            for (let y = 40; y < 64; y++) {
                pixels[y][32] = COLORS.stem.length + 1;
                pixels[y][31] = COLORS.stem.length + 1;
                pixels[y][33] = COLORS.stem.length + 1;
            }

            return pixels;
        }

        const rosePixels = createRosePixels();

        function drawPixel(x, y, colorType) {
            if (colorType === 0) {
                // พื้นหลัง
                ctx.fillStyle = COLORS.bg[Math.floor(Math.random() * COLORS.bg.length)];
            } else if (colorType <= COLORS.petal.length) {
                // กลีบดอก
                ctx.fillStyle = COLORS.petal[colorType - 1];
            } else {
                // ก้านดอก
                ctx.fillStyle = COLORS.stem[colorType - COLORS.petal.length - 1];
            }
            
            ctx.fillRect(x * pixelSize, y * pixelSize, pixelSize, pixelSize);
        }

        function drawRose() {
            let currentRow = 0;
            function drawNextRow() {
                if (currentRow < rosePixels.length) {
                    for (let x = 0; x < 64; x++) {
                        drawPixel(x, currentRow, rosePixels[currentRow][x]);
                    }
                    currentRow++;
                    setTimeout(drawNextRow, 30); // เร็วขึ้นและนุ่มนวลขึ้น
                }
            }
            drawNextRow();
        }

        window.onload = drawRose;
    </script>
</body>
</html>
